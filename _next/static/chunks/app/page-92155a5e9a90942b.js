(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7546:(e,t,s)=>{"use strict";s.d(t,{A:()=>o,Z:()=>a});let n=(0,s(51990).Z0)({name:"model",initialState:{modelType:"text",selectedModel:"deepseek_qwen3"},reducers:{setModelType:(e,t)=>{e.modelType=t.payload,e.selectedModel=({text:"deepseek_qwen3",code:"llama3_coder",image:"flux_schnell_free"})[t.payload]},setModel:(e,t)=>{e.selectedModel=t.payload}}}),a=n.actions,o=n.reducer},30348:(e,t,s)=>{"use strict";s.d(t,{default:()=>U});var n=s(95155),a=s(12115),o=s(34540);let r=JSON.parse('{"profile":"Profile","model_type_text":"Text","model_type_code":"Code","model_type_image":"Image","Logout":"Logout","Hello":"Hello!","ListOfOptions:":"List of options","QuestionSent":"Request sent:","ErrorSendingQuestion":"Error sending question","Close":"Close","Stop":"Stop","Play":"Play","BrowserNoSpeechSupport":"Your browser does not support speech recognition","Listening":"Listening","SpeechRecognitionError":"Couldn’t recognize. Please try again!","AudioSettings":"Audio","MusicVolume":"Music Volume","TTSVolume":"Speech Volume","EN":"EN","RU":"RU","SelectCategory":"Select a category on the left or create a new one","Texts":"Texts","Codes":"Codes","Images":"Images","CategoryCreatedSuccess":"Category created successfully!","CategoryCreatedError":"Failed to create category","Please":"Please,","LogIn":"Login","LogIn,":"log in","OrRegister":"or register to send requests.","Register":"Register","LoadingCategories":"Loading categories...","ErrorLoadingCategories":"Error loading categories","NewCategory":"New category","CreateCategory":"Create","LoadingProfile":"Loading profile...","ToHome":"To Home","YourProfile":"Your profile","Name":"Name:","ChangeName":"Click to change name","AskedQuestions":"Questions asked:","SessionExpired":"Session expired. Please log in again.","RequestBlocked":"Request blocked due to session expiration. Please log in again.","ServerUnavailable":"The server seems offline. Please try again later.","Retry":"Retry","ServerOfflineBanner":"The server appears to be offline. Some data may not load.","ErrorFetchingProfile":"Could not load your profile. There may be problems with the server or you are not registered.","RateLimitRules":"You can send up to 5 text, 3 code, and 1 image requests per 24 hours.","LimitReached":"You have reached the {type} limit.","NextAllowedAt":"Next allowed at {when}.","text":"text requests","code":"code requests","image":"image generations","MobileLoginOnly":"On mobile you can view the Demo and log in as an admin by refreshing the page. Registration only on desktop","ShowInfo":"What\'s inside?","HideInfo":"Got it!","WelcomeMessage":"Welcome to AI-Chat!","ChatAI":"Chat with AI"}'),l=JSON.parse('{"profile":"Профиль","model_type_text":"Текст","model_type_code":"Код","model_type_image":"Изображение","Logout":"Выход","Hello":"Привет!","ListOfOptions:":"Список опций","QuestionSent":"Запрос отправлен:","ErrorSendingQuestion":"Ошибка отправки запроса","Close":"Закрыть","Stop":"Остановить","Play":"Воспроизвести","BrowserNoSpeechSupport":"Ваш браузер не поддерживает распознавание речи","Listening":"Прослушивание","SpeechRecognitionError":"Не удалось распознать. Попробуйте ещё раз!","AudioSettings":"Аудио","MusicVolume":"Громкость музыки","TTSVolume":"Громкость речи","EN":"EN","RU":"RU","SelectCategory":"Выберите рубрику слева или создайте новую","Texts":"Тексты","Codes":"Коды","Images":"Изображения","CategoryCreatedSuccess":"Рубрика успешно создана!","CategoryCreatedError":"Не удалось создать рубрику","Please":"Пожалуйста,","LogIn,":"войдите","LogIn":"Вход","OrRegister":"или зарегистрируйтесь, чтобы отправлять запросы.","Register":"Регистрация","LoadingCategories":"Загрузка рубрик...","ErrorLoadingCategories":"Ошибка загрузки рубрик","NewCategory":"Новая рубрика","CreateCategory":"Создать","LoadingProfile":"Загрузка профиля...","ToHome":"На главную","YourProfile":"Ваш профиль","Name":"Имя:","ChangeName":"Кликните, чтобы изменить имя","AskedQuestions":"Задано вопросов:","SessionExpired":"Сессия истекла. Пожалуйста, войдите снова.","RequestBlocked":"Запрос заблокирован из-за истечения сессии. Пожалуйста, войдите снова.","ServerUnavailable":"Сервер недоступен. Попробуйте позже.","Retry":"Повторить","ServerOfflineBanner":"Сервер, судя по всему, отключен. Некоторые данные могут не загрузиться.","ErrorFetchingProfile":"Не удалось загрузить ваш профиль. Возможно проблемы на сервере или вы не зарегистрированы","RateLimitRules":"Вы можете отправить до 5 текстовых, 3 кодовых и 1 изображение каждые 24 часа.","LimitReached":"Вы исчерпали лимит на {type}.","NextAllowedAt":"Следующий доступ {when}.","text":"текстовых запросов","code":"запросов кода","image":"генераций изображений","MobileLoginOnly":"На мобильном можно посмотреть Демо и войти как админ через обновление страницы. Регистрация только в десктопе","ShowInfo":"Что внутри?","HideInfo":"Понятно!","WelcomeMessage":"Добро пожаловать в AI-Chat!","ChatAI":"Чат с нейросетью"}');var i=s(94877);class d{playMusic(e){this.music&&this.music.stop(),this.music=new i.Howl({src:[e],loop:!0,volume:this.musicVolume}),this.music.play()}stopMusic(){this.music&&(this.music.stop(),this.music=null)}getMusicVolume(){return this.musicVolume}setMusicVolume(e){this.musicVolume=Math.max(0,Math.min(e,1)),this.music&&this.music.volume(this.musicVolume)}setSpeechLanguage(e){this.currentLanguage=e}constructor(){this.musicVolume=.5,this.music=null,this.currentLanguage="ru-RU"}}let c=new d;var u=s(90428);class g{loadTranslations(){this.translations.en=r,this.translations.ru=l}getCurrentLanguage(){return u.A.getState().language.current}get(e,t){var s;let n=this.getCurrentLanguage(),a=(null==(s=this.translations[n])?void 0:s[e])||e;return t?Object.keys(t).reduce((e,s)=>e.replace("{".concat(s,"}"),t[s]),a):a}syncLanguageSettings(){let e=this.getCurrentLanguage();c.setSpeechLanguage("ru"===e?"ru-RU":"en-US")}constructor(){this.translations={},this.loadTranslations()}}let m=new g;var p=s(89345),h=s(7546);let x={text:[{id:"deepseek_qwen3",name:"DeepSeek Qwen3 8B"},{id:"mistral_devstral",name:"Mistral Devstral"},{id:"deephermes",name:"DeepHermes 24B"}],code:[{id:"llama3_coder",name:"Llama 3 Coder"},{id:"deepseek_prover",name:"DeepSeek Prover"},{id:"qwen3_coder",name:"Qwen3"}],image:[{id:"flux_schnell_free",name:"Flux.1 [schnell] (free)"}]},y=e=>{let{modelType:t,selectedModel:s,onMenuToggle:a,onChangeLanguage:o,onChangeModelType:r,onChangeModel:l,handleGoToRender:i}=e;return(0,n.jsxs)("header",{className:"md:hidden flex items-center justify-between bg-gray-800 px-3 py-2 shadow",children:[(0,n.jsx)("button",{onClick:a,className:"p-2 text-white hover:bg-gray-700 rounded","aria-label":"Открыть меню",children:"☰"}),(0,n.jsxs)("div",{className:"flex-1 mx-2 space-y-1",children:[(0,n.jsxs)("div",{className:"flex justify-center space-x-1",children:[(0,n.jsx)("button",{onClick:()=>o("en"),className:"px-2 py-1 bg-blue-500 text-white rounded text-xs",children:"EN"}),(0,n.jsx)("button",{onClick:()=>o("ru"),className:"px-2 py-1 bg-green-500 text-white rounded text-xs",children:"RU"})]}),(0,n.jsxs)("div",{className:"flex justify-center space-x-1",children:[(0,n.jsxs)("select",{value:t,onChange:e=>r(e.target.value),className:"bg-gray-700 text-white text-xs rounded px-1 py-0.5",children:[(0,n.jsx)("option",{value:"text",children:m.get("model_type_text")}),(0,n.jsx)("option",{value:"code",children:m.get("model_type_code")}),(0,n.jsx)("option",{value:"image",children:m.get("model_type_image")})]}),(0,n.jsx)("select",{value:s,onChange:e=>l(e.target.value),className:"bg-gray-700 text-white text-xs rounded px-1 py-0.5",children:x[t].map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))})]})]}),(0,n.jsx)("button",{onClick:i,className:"text-white text-lg",children:"\uD83D\uDCE1"})]})},f=e=>{let{modelType:t,selectedModel:s,onMenuToggle:a,handleGoToRender:r}=e,l=(0,o.wA)();return(0,n.jsx)(y,{modelType:t,selectedModel:s,onMenuToggle:a,onChangeLanguage:e=>{l(p._.setLanguage(e)),m.syncLanguageSettings()},onChangeModelType:e=>l(h.Z.setModelType(e)),onChangeModel:e=>l(h.Z.setModel(e)),handleGoToRender:r})},v=e=>{let{modelType:t,selectedModel:s,onChangeLanguage:a,onChangeModelType:o,onChangeModel:r,handleGoToRender:l}=e;return(0,n.jsxs)("header",{className:"hidden md:flex sticky top-0 z-40 bg-gray-800 px-4 py-3 items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{onClick:()=>a("ru"),className:"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600",children:"RU"}),(0,n.jsx)("button",{onClick:()=>a("en"),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"EN"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("select",{value:t,onChange:e=>o(e.target.value),className:"border px-2 py-1 rounded bg-gray-500 text-white hover:bg-gray-600",children:[(0,n.jsx)("option",{value:"text",children:m.get("model_type_text")}),(0,n.jsx)("option",{value:"code",children:m.get("model_type_code")}),(0,n.jsx)("option",{value:"image",children:m.get("model_type_image")})]}),(0,n.jsx)("select",{value:s,onChange:e=>r(e.target.value),className:"border px-2 py-1 rounded bg-gray-500 text-white hover:bg-gray-600",children:x[t].map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,n.jsx)("button",{onClick:l,className:"underline text-gray-300 hover:text-blue-400",children:"Render"})]})},b=e=>{let{modelType:t,selectedModel:s,handleGoToRender:a}=e,r=(0,o.wA)();return(0,n.jsx)(v,{modelType:t,selectedModel:s,onChangeLanguage:e=>{r(p._.setLanguage(e)),m.syncLanguageSettings()},onChangeModelType:e=>r(h.Z.setModelType(e)),onChangeModel:e=>r(h.Z.setModel(e)),handleGoToRender:a})},j=[{id:"productivity",name:"Продуктивность"},{id:"trips",name:"Путешествия"},{id:"education",name:"Образование"}],w={productivity:[{id:"p1",prompt:"Как быстро разобрать завал в задачах?",answers:[{id:"a1",content:"**Метод 1-3-5:**\n1. 1 большая задача\n2. 3 средние\n3. 5 мелких\n- **Пример:**\n```python\ntasks = pick_tasks()\nfor t in tasks:\n    do(t)\n```\n\uD83D\uDCCC Работает лучше списков!"}]},{id:"p2",prompt:"Покажи схему метода",answers:[{id:"a1",content:"/images/sample/productivity-pyramid.png"}]}],trips:[{id:"t1",prompt:"Как быстро собрать вещи в дорогу?",answers:[{id:"a1",content:"**Минимальный набор:**\n1. Документы и зарядка\n2. Удобная одежда\n3. Щётка и пластыри\n- **Код чемодана:**\n```javascript\nconst bag = {\n  docs: ['паспорт'],\n  gear: ['одежда', 'гаджеты'],\n  care: ['щётка', 'пластыри']\n};\n```"}]},{id:"t2",prompt:"Покажи список упаковки",answers:[{id:"a1",content:"/images/sample/packing-list.png"}]}],education:[{id:"e1",prompt:"Как запомнить сложную тему?",answers:[{id:"a1",content:"**Метод Фейнмана:**\n1. Объясните тему просто\n2. Найдите пробелы\n3. Переформулируйте\n- **Код памяти:**\n```python\nwhile not understand(topic):\n    explain(topic)\n    revise(topic)\n```\n\uD83C\uDF1F Работает всегда!"}]},{id:"e2",prompt:"Что почитать для развития?",answers:[{id:"a1",content:"**Рекомендации:**\n- Deep Work — Кал Ньюпорт\n- Make it Stick — Рёдигер\n- Учебник ML — Ян Лекун\n```python\nprint(learn('ML'))\n```"}]},{id:"e3",prompt:"Покажи визуализацию метода",answers:[{id:"a1",content:"/images/sample/feynman-technique.png"}]}]},N=e=>{let{onSelect:t}=e;return(0,n.jsx)(n.Fragment,{children:j.map(e=>(0,n.jsx)("button",{className:"block w-full text-left px-3 py-2 mb-2 border rounded hover:bg-gray-100",onClick:()=>t(e.id,e.name),children:e.name},e.id))})},C=e=>{let{onSelect:t}=e;return(0,n.jsx)("div",{className:"p-4",children:(0,n.jsx)(N,{onSelect:t})})},S=e=>"/".endsWith("/")?"".concat("/").concat(e):"".concat("/","/").concat(e),k=e=>{let{children:t,onCategorySelect:s}=e,[r,l]=(0,a.useState)(!1),i=(0,o.d4)(e=>e.model.modelType),d=(0,o.d4)(e=>e.model.selectedModel);(0,a.useEffect)(()=>(c.playMusic(S("music/vikont.mp3")),()=>void c.stopMusic()),[]);let u=(e,t)=>{s(e,t),l(!1)},g=()=>{c.stopMusic(),window.open("https://ai-stepik-next.onrender.com/","_blank")};return(0,n.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,n.jsx)(f,{onMenuToggle:()=>l(e=>!e),modelType:i,selectedModel:d,handleGoToRender:g}),(0,n.jsx)(b,{modelType:i,selectedModel:d,handleGoToRender:g}),(0,n.jsxs)("div",{className:"flex flex-1 overflow-hidden min-h-0",children:[(0,n.jsx)("aside",{className:"hidden md:block md:w-1/5 border-r overflow-y-auto p-4",children:(0,n.jsx)(C,{onSelect:u})}),r&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",children:(0,n.jsx)("aside",{className:"absolute left-0 top-0 w-3/4 h-full bg-gray-900 p-4",children:(0,n.jsx)(C,{onSelect:u})})}),(0,n.jsx)("main",{className:"flex-1 flex flex-col",children:t})]})]})};var L=s(66766);let M=e=>{if(/^https?:\/\//.test(e))return e;let t=e.startsWith("/")?e.slice(1):e;return"/".endsWith("/")?"".concat("/").concat(t):"".concat("/","/").concat(t)},_=e=>{let{url:t}=e;return(0,n.jsx)("div",{className:"mt-4 w-full max-w-lg mx-auto aspect-square relative animate-fade-in",children:(0,n.jsx)(L.default,{src:M(t),alt:"AI generated image",fill:!0,sizes:"100%",className:"object-contain rounded-lg shadow-md"})})},R=e=>{let{onClose:t,title:s,children:a}=e;return(0,n.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-lg w-11/12 max-w-md",children:[s&&(0,n.jsx)("div",{className:"px-4 py-2 border-b",children:(0,n.jsx)("h3",{className:"text-lg font-semibold",children:s})}),(0,n.jsx)("div",{children:a}),(0,n.jsx)("div",{className:"p-4 border-t text-right",children:(0,n.jsx)("button",{className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",onClick:t,children:m.get("Close")})})]})})},T=()=>{let[e,t]=(0,a.useState)(c.getMusicVolume());return(0,a.useEffect)(()=>{t(c.getMusicVolume())},[]),(0,n.jsx)("div",{className:"space-y-6 p-4",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-1",children:m.get("MusicVolume")}),(0,n.jsx)("input",{type:"range",min:0,max:1,step:.05,value:e,onChange:e=>{let s=parseFloat(e.target.value);t(s),c.setMusicVolume(s)},className:"w-full"})]})})};var A=s(90792),E=s(58497),I=s(22877);let P=e=>{let{content:t}=e;return(0,n.jsx)(A.oz,{components:{ul:e=>(0,n.jsx)("ul",{className:"list-disc pl-5",...e}),ol:e=>(0,n.jsx)("ol",{className:"list-decimal pl-5",...e}),li:e=>(0,n.jsx)("li",{className:"my-1",...e}),code:e=>{let{inline:t,className:s,children:a}=e,o=/language-(\w+)/.exec(s||"");return!t&&o?(0,n.jsx)(E.A,{style:I.A,language:o[1],PreTag:"div",customStyle:{margin:0,padding:"0.75rem",borderRadius:"0.5rem"},...e,children:String(a).replace(/\n$/,"")}):(0,n.jsx)("code",{className:"bg-gray-700 px-1 py-0.5 rounded text-sm",...e,children:a})}},children:t})},O=e=>{let{categoryName:t,messages:s,bottomRef:a,audioModalOpen:o,setAudioModalOpen:r}=e;return(0,n.jsxs)("div",{className:"flex flex-col flex-1 min-h-0",children:[(0,n.jsxs)("div",{className:"p-4 border-b flex items-center justify-between",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold truncate max-w-[70%]",children:t}),(0,n.jsx)("button",{className:"px-3 py-1 bg-gray-500 text-white rounded hover:bg-blue-600 whitespace-nowrap",onClick:()=>r(!0),children:"\uD83D\uDD0A Audio"})]}),o&&(0,n.jsx)(R,{title:"Audio",onClose:()=>r(!1),children:(0,n.jsx)(T,{})}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.map(e=>(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("div",{className:"ml-4 text-gray-400",children:e.prompt}),e.answers.map(e=>/\.(png|jpe?g|gif)$/i.test(e.content)?(0,n.jsx)(_,{url:e.content},e.id):(0,n.jsx)("div",{className:"mt-2 ml-8 bg-gray-800 text-white border border-gray-700 rounded-md p-3",children:(0,n.jsx)(P,{content:e.content})},e.id))]},e.id)),(0,n.jsx)("div",{ref:a})]})]})};function V(e){let{categoryId:t,categoryName:s}=e,[o,r]=(0,a.useState)(!1),l=(0,a.useRef)(null),i=w[t]||[];return(0,a.useEffect)(()=>{var e;null==(e=l.current)||e.scrollIntoView({behavior:"smooth"})},[t]),(0,n.jsx)(O,{categoryName:s,messages:i,bottomRef:l,audioModalOpen:o,setAudioModalOpen:r})}var q=s(72014);let D=()=>{let e=(0,o.d4)(e=>e.notification);if(!(null==e?void 0:e.message))return null;let t="success"===e.type?"bg-green-500":"error"===e.type?"bg-red-500":"info"===e.type?"bg-blue-500":"bg-transparent";return(0,n.jsx)("div",{className:"fixed top-4 right-4 p-3 rounded-lg z-50 text-white shadow-lg ".concat(t),children:e.message})};function U(){let e=(0,o.wA)(),[t,s]=(0,a.useState)(null),r=(0,o.d4)(e=>e.language.current);return(0,a.useEffect)(()=>{fetch("https://ai-stepik-next.onrender.com/",{mode:"no-cors"}).catch(()=>{}),fetch("https://ai-stepik-django.onrender.com/healthz/",{mode:"no-cors"}).catch(()=>{})},[]),(0,a.useEffect)(()=>{m.syncLanguageSettings()},[r]),(0,a.useEffect)(()=>{e((0,q.Ds)(m.get("WelcomeMessage"),"info",3))},[e]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D,{}),(0,n.jsx)(k,{onCategorySelect:(e,t)=>s({id:e,name:t}),children:t?(0,n.jsx)(V,{categoryId:t.id,categoryName:t.name},t.id):(0,n.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-600",children:"Выберите категорию"})})]})}},72014:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>d,Ds:()=>i});var n=s(51990);let a={message:"",type:""},o=(0,n.Z0)({name:"notification",initialState:a,reducers:{setNotification:(e,t)=>t.payload,clearNotification:()=>a}}),{setNotification:r,clearNotification:l}=o.actions,i=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return n=>{n(r({message:e,type:t})),setTimeout(()=>{n(l())},1e3*s)}},d=o.reducer},89345:(e,t,s)=>{"use strict";s.d(t,{A:()=>o,_:()=>a});let n=(0,s(51990).Z0)({name:"language",initialState:{current:"ru"},reducers:{setLanguage:(e,t)=>{e.current=t.payload}}}),a=n.actions,o=n.reducer},90428:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var n=s(51990),a=s(72014),o=s(7546),r=s(89345);let l=(0,n.U1)({reducer:{notification:a.Ay,model:o.A,language:r.A}})},97190:(e,t,s)=>{Promise.resolve().then(s.bind(s,30348))}},e=>{var t=t=>e(e.s=t);e.O(0,[635,75,441,684,358],()=>t(97190)),_N_E=e.O()}]);